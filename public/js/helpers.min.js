function isSet(t){return"undefined"!=typeof t}function fill(t,a){return t=t.toString(),t.length<a?fill("0"+t,a):t}function isTouchDevice(){return 1==("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}!function(t){t.fn.inputChange=function(a,e){var i=0;return t(this).on("input keydown change",function(t){clearTimeout(i),i=setTimeout(function(t){a(t)},e)}),t(this)}}(jQuery),$(window).resize(function(){this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){$(this).trigger("resizeEnd")},500)}),window.dialogs=[],jQuery(document).ready(function(t){var a=t("body").attr("data-basepath");window.basePath=a,t.notifyDefaults({type:"info",newest_on_top:!0,z_index:1000019,delay:1e4,mouse_over:"pause",placement:{from:"top",align:"center"},animate:{enter:"animated fadeInDown",exit:"animated fadeOutRight"}}),isTouchDevice()===!1&&t('[data-toggle="tooltip"]').tooltip(),jQuery.extend({my:{checkResponse:function(t){return void 0!=typeof t.redirect&&void 0!=t.redirect?(window.location=t.redirect,!1):t},notify:function(a,e,i,n){if(!isSet(i))var i={};if(!isSet(n))var n={};isSet(n.z_index)||(n.z_index=1000019),i.message=a,isSet(e)&&("error"===e||"fatalError"===e?(n.type="danger",n.delay=0):"warn"===e||"alert"===e?n.type="warning":n.type=e),t.notify(i,n)},confirmDialogWC:function(t,a,e,i,n,o,r){var s={"default":BootstrapDialog.TYPE_DEFAULT,info:BootstrapDialog.TYPE_INFO,primary:BootstrapDialog.TYPE_PRIMARY,success:BootstrapDialog.TYPE_SUCCESS,ok:BootstrapDialog.TYPE_SUCCESS,warning:BootstrapDialog.TYPE_WARNING,danger:BootstrapDialog.TYPE_DANGER};!a in s&&(a="primary"),"ok"==a&&(a="success"),window.dialogs[t]=BootstrapDialog.show({type:s[a],title:e,message:i,onhide:function(t){return t.rip===!0?!0:"both"!==n&&"storno"!==n?!1:(t.rip=!0,t.close(),isSet(r)&&r(t),void 0)},buttons:[{label:"OK",cssClass:"btn-"+a,action:function(t){("both"===n||"ok"===n)&&(t.rip=!0,t.close()),isSet(o)&&o(t)}},{label:"Storno",action:function(t){t.close()}}]})},getDialogLoader:function(a){return isSet(a)||(a="Probíhá načítání"),t('<div class="progress dialogLoader"><div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">'+a+"</div></div>")},formLoad:function(a,e){if(a="undefined"==typeof a?t("body"):a,a.find("form").each(function(t,a){Nette.initForm(a)}),a.find(".urlPartCharsOnly").filter_input({regex:"[a-z0-9-/]"}),a.find(".nonNegativeNumber").filter_input({regex:"[0-9]"}),a.find("form[data-live-validation-url]").myLiveValidate(t(this).attr("data-live-validation-events")),a.find(".form-control[data-use-select2]").each(function(a,e){var i=t(e);i.attr("data-use-select2").length?i.select2({data:t.parseJSON(i.attr("data-use-select2"))}):i.select2(),setTimeout(function(){i.trigger("change")},500)}),jQuery().datetimepicker&&a.find(".addDatePicker").datetimepicker({locale:"cs",maxDate:new Date,format:"YYYY-MM-DD",useStrict:!0}),jQuery().ckeditor){var i=a.find(".addCkeditor");i.length&&i.ckeditor(t.parseJSON(i.attr("data-ck-config")))}isTouchDevice()===!1&&a.find('[data-toggle="tooltip"]').tooltip(),isSet(e)||e===!0||setTimeout(function(){a.is(".modal-body")?a.closest(".bootstrap-dialog").on("shown.bs.modal",function(){a.find("form :input:visible:enabled:first").focus()}):a.find("form :input:visible:enabled:first").focus()},150)},extractCssUrl:function(t){return t.replace(/"/g,"").replace(/url\(|\)$/gi,"")},urlStringAddTimestamp:function(t){var a=(new Date).getTime();return t=/refreshTimestamp/.test(t)?t.slice(0,t.lastIndexOf("=")+1)+a:/[?]/.test(t)?t+"&amp;refreshTimestamp="+a:t+"?refreshTimestamp="+a}}})}),function(t){t.fn.depth=function(a){var e=t(this)[0];a="undefined"!=typeof a?a:"*";var i=0;return t(e).find(":not(:has("+a+"))").each(function(){if("*"==a)var n=t(this).parentsUntil(e,a).length+1;else var n=t(this).parentsUntil(e,a).length;n>i&&(i=n)}),i}}(jQuery),function(t){t.fn.myLiveValidate=function(a){a="undefined"==typeof a?null:a;for(var e=0;e<t(this).length;e++){var i=t(t(this)[e]),n=i.find("[data-live-validate]");if(i.is("[data-live-validation-url]")&&!i.is("[data-live-validation-attached]")&&n.length>0){i.attr("data-live-validation-attached");for(var o=!1,r=0;r<n.length;r++){var s=t(n[r]);t("#"+s.attr("id")+"_status").length||(s.parent().is("label")?s.parent().parent().addClass("hasLiveValidation").after('<div class="validationStatus" id="'+s.attr("id")+'_status" data-input-name="'+s.attr("name")+'"></div>'):s.addClass("hasLiveValidation").after('<div class="validationStatus" id="'+s.attr("id")+'_status" data-input-name="'+s.attr("name")+'"></div>'),o=o===!1?"#"+s.attr("id")+"_status":o+", #"+s.attr("id")+"_status")}var l=function(){t(o).removeClass("valid error").html('<span title="Probíhá validace" class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>'),t.ajax({type:"POST",url:i.attr("data-live-validation-url"),data:"serializedMainFields="+encodeURIComponent(i.find("[data-live-validate]").serialize())+"&serializedAdditionalFields="+encodeURIComponent(i.find("[data-use-for-validation]").serialize()),success:function(a){var e=t.my.checkResponse(a);e.status?t(o).each(function(){var a=t(this);e.validationResults.hasOwnProperty(a.attr("data-input-name"))?e.validationResults[a.attr("data-input-name")]?(a.closest(".form-group").removeClass("has-error").addClass("has-success"),LiveForm.removeError(a.closest(".form-group").find("[name="+a.attr("data-input-name")+"]")[0]),e.validationMessages.hasOwnProperty(a.attr("data-input-name"))?a.addClass("valid").html('<span title="'+t("<div/>").html(e.validationMessages[a.attr("data-input-name")]).text()+'" class="glyphicon glyphicon-ok"></span>'):a.addClass("valid").html('<span class="glyphicon glyphicon-ok"></span>')):!e.validationResults[a.attr("data-input-name")]&&e.validationMessages.hasOwnProperty(a.attr("data-input-name"))?(a.closest(".form-group").removeClass("has-success").addClass("has-error"),a.removeClass("valid").addClass("error").html('<span title="'+t("<div/>").html(e.validationMessages[a.attr("data-input-name")]).text()+'" class="glyphicon glyphicon-exclamation-sign"></span>'),LiveForm.addError(a.closest(".form-group").find("[name="+a.attr("data-input-name")+"]")[0],e.validationMessages[a.attr("data-input-name")])):(a.closest(".form-group").removeClass("has-error").addClass("has-success"),a.removeClass("valid error").empty(),LiveForm.removeError(a.closest(".form-group").find("[name="+a.attr("data-input-name")+"]")[0])):(a.closest(".form-group").removeClass("has-error").removeClass("has-success"),a.removeClass("valid error").empty(),LiveForm.removeError(a.closest(".form-group").find("[name="+a.attr("data-input-name")+"]")[0]))}):t(o).each(function(a,e){t(e).closest(".form-group").removeClass("has-error").removeClass("has-success"),t(e).removeClass("valid error").html('<span title="Došlo k chybě při zpracovávání požadavku." class="glyphicon glyphicon-question-sign"></span>'),LiveForm.removeError(t(e).closest(".form-group").find("[name="+t(e).attr("data-input-name")+"]")[0])})},error:function(){t(o).each(function(a,e){t(e).closest(".form-group").removeClass("has-error").removeClass("has-success"),t(e).removeClass("valid error").html('<span title="Chyba při komunikaci se serverem." class="glyphicon glyphicon-question-sign"></span>'),LiveForm.removeError(t(e).closest(".form-group").find("[name="+t(e).attr("data-input-name")+"]")[0])})}})},d=!0;i.find("[data-use-for-validation],[data-live-validate]").inputChange(function(){d&&(setTimeout(function(){l(),d=!0},0),d=!1)},500),isSet(a)&&i.find("[data-use-for-validation],[data-live-validate]").on(a,function(){d&&(setTimeout(function(){l(),d=!0},500),d=!1)})}}return t(this)}}(jQuery),jQuery(document).ready(function(t){t.my.formLoad()});